{"version":3,"sources":["Square.js","Board.js","Game.js","index.js"],"names":["Square","props","react_default","a","createElement","className","value","onClick","Board","row","column","_this","this","Square_Square","key","items","_this2","map","renderSquare","_this3","game","renderRow","Component","Game","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","getInitialState","solution","generateGame","generateArray","gameFinished","buttonStatus","slice","reveal","updateGameStatus","squares","inRange","expand","isMine","setState","thereAreRemainingMoves","square","flat","filter","sq","length","minimum","maximum","Math","round","random","Array","from","generatedMines","randomInRange","height","width","incrementSquare","src_Board_0","handleClick","ReactDOM","render","src_Game_0","document","getElementById"],"mappings":"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","file":"static/js/main.d5903312.chunk.js","sourcesContent":["import React from 'react';\nimport './Square.css';\n\nexport default function Square(props) {\n  return (\n    <button\n      className={\"Square\"+(props.value === '*' ? ' mine' : (props.value !== null ? ' revealed number'+props.value : ''))}\n      onClick={props.onClick}\n    >\n      {props.value ? props.value : ''}\n    </button>\n  );\n};\n","import React, {Component} from 'react';\nimport Square from './Square';\nimport './Board.css';\n\nclass Board extends Component {\n  renderSquare(row, column, value) {\n    return (\n      <Square\n        key={row + \"_\" + column}\n        value={value}\n        onClick={() => this.props.onClick(row, column)}\n      />\n    );\n  }\n\n  renderRow(row, items) {\n    return (\n      <div className=\"row\" key={row}>\n        {items.map((value, key) => this.renderSquare(row, key, value))}\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <div className=\"Board\">\n        {this.props.game.map((value, key) => this.renderRow(key, value))}\n      </div>\n    );\n  }\n}\n\nexport default Board;\n","import React, {Component} from 'react';\nimport './Game.css';\nimport Board from './Board';\n\n//const height = 16;\n//const width = 16;\n//const mines = 51;\n\nconst height = 9;\nconst width = 9;\nconst mines = 10;\n\nclass Game extends Component {\n  constructor(props) {\n    super(props);\n    this.state = this.getInitialState();\n  }\n\n  getInitialState() {\n    return {\n      solution: this.generateGame(),\n      game: this.generateArray(null),\n      gameFinished: false,\n      buttonStatus: 'ðŸ™‚',\n    };\n  }\n\n  handleClick(row, column) {\n    // TODO don't start losing :(\n    const game = this.state.game.slice();\n\n    if (this.state.gameFinished || game[row][column] !== null) {\n      return;\n    }\n\n    this.reveal(game, row, column);\n\n    this.updateGameStatus(game, row, column);\n  }\n\n  reveal(squares, row, column) {\n    if (!this.inRange(row, column) || squares[row][column] !== null) {\n      return;\n    }\n\n    squares[row][column] = this.state.solution[row][column];\n\n    if (squares[row][column] === 0) {\n      this.expand(squares, row, column);\n    }\n  }\n\n  expand(squares, row, column) {\n    this.reveal(squares, row - 1, column);\n    this.reveal(squares, row + 1, column);\n    this.reveal(squares, row, column - 1);\n    this.reveal(squares, row, column + 1);\n    this.reveal(squares, row - 1, column - 1);\n    this.reveal(squares, row - 1, column + 1);\n    this.reveal(squares, row + 1, column + 1);\n    this.reveal(squares, row + 1, column - 1);\n  }\n\n  updateGameStatus(squares, row, column) {\n    if (this.isMine(squares, row, column)) {\n      return this.setState({\n        game: squares,\n        gameFinished: true,\n        buttonStatus: 'ðŸ’€',\n      });\n    }\n\n    const gameFinished = !this.thereAreRemainingMoves(squares);\n    const buttonStatus = gameFinished ? 'ðŸ˜Ž' : this.state.buttonStatus;\n\n    if (gameFinished) {\n      squares = squares.map(row => row.map(square => square !== null ? square : 'ðŸš©'));\n    }\n\n    this.setState({\n      game: squares,\n      gameFinished: gameFinished,\n      buttonStatus: buttonStatus,\n    });\n  }\n\n  thereAreRemainingMoves(squares) {\n    return squares.flat().filter(sq => sq === null).length > mines;\n  }\n\n  randomInRange(minimum, maximum) {\n    return Math.round(Math.random() * (maximum - minimum) + minimum);\n  }\n\n  generateArray(value) {\n    return Array.from({length: height}, () => Array.from({length: width}, () => value))\n  }\n\n  generateGame() {\n    const squares = this.generateArray(0);\n    let generatedMines = 0;\n    let row;\n    let column;\n\n    while (generatedMines < mines) {\n      row = this.randomInRange(0, height - 1);\n      column = this.randomInRange(0, width - 1);\n\n      if (!this.isMine(squares, row, column)) {\n        squares[row][column] = '*';\n        this.incrementSquare(squares, row - 1, column);\n        this.incrementSquare(squares, row + 1, column);\n        this.incrementSquare(squares, row, column - 1);\n        this.incrementSquare(squares, row, column + 1);\n        this.incrementSquare(squares, row - 1, column - 1);\n        this.incrementSquare(squares, row - 1, column + 1);\n        this.incrementSquare(squares, row + 1, column + 1);\n        this.incrementSquare(squares, row + 1, column - 1);\n        generatedMines++;\n      }\n    }\n\n    return squares;\n  }\n\n  incrementSquare(squares, row, column) {\n    if (this.inRange(row, column) && !this.isMine(squares, row, column)) {\n      squares[row][column] = squares[row][column] + 1;\n    }\n  }\n\n  isMine(squares, row, column) {\n    return squares[row][column] === '*';\n  }\n\n  inRange(row, column) {\n    return row >= 0\n      && column >= 0\n      && row < height\n      && column < width;\n  }\n\n  render() {\n    return (\n      <div className=\"Game\">\n        <div className=\"status\">\n          <button className=\"restart\" onClick={() => this.setState(this.getInitialState())}>\n            {this.state.buttonStatus}\n          </button>\n        </div>\n        <Board\n          onClick={(row, column) => this.handleClick(row, column)}\n          game={this.state.game}\n        />\n      </div>\n    );\n  }\n}\n\nexport default Game;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport Game from './Game';\n// import * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<Game />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.unregister();\n"],"sourceRoot":""}